<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>react-auth-forms ‚Äî Live Demo</title>
<style>
  /* ‚îÄ‚îÄ Reset ‚îÄ‚îÄ */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: #0f0f11;
    color: #f0f0f5;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* ‚îÄ‚îÄ Page header ‚îÄ‚îÄ */
  .page-header {
    width: 100%;
    max-width: 960px;
    padding: 60px 24px 40px;
    text-align: center;
  }

  .badge {
    display: inline-block;
    background: rgba(99,102,241,.15);
    border: 1px solid rgba(99,102,241,.35);
    color: #a5b4fc;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: .08em;
    text-transform: uppercase;
    padding: 5px 14px;
    border-radius: 99px;
    margin-bottom: 20px;
  }

  h1 {
    font-size: clamp(32px, 5vw, 52px);
    font-weight: 800;
    letter-spacing: -1px;
    line-height: 1.15;
    margin-bottom: 16px;
    background: linear-gradient(135deg, #fff 30%, #a5b4fc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .tagline {
    font-size: 17px;
    color: #8b8fa8;
    max-width: 520px;
    margin: 0 auto 48px;
    line-height: 1.6;
  }

  /* ‚îÄ‚îÄ Buttons ‚îÄ‚îÄ */
  .demo-buttons {
    display: flex;
    gap: 14px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 64px;
  }

  .demo-btn {
    padding: 13px 28px;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: all .18s;
    font-family: inherit;
    letter-spacing: .01em;
  }

  .demo-btn-primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    box-shadow: 0 4px 20px rgba(99,102,241,.4);
  }

  .demo-btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(99,102,241,.5); }

  .demo-btn-secondary {
    background: rgba(255,255,255,.07);
    color: #d1d5db;
    border: 1px solid rgba(255,255,255,.12);
  }

  .demo-btn-secondary:hover { background: rgba(255,255,255,.12); color: #fff; }

  .demo-btn-tertiary {
    background: transparent;
    color: #a5b4fc;
    border: 1px solid rgba(99,102,241,.3);
  }

  .demo-btn-tertiary:hover { background: rgba(99,102,241,.1); }

  /* ‚îÄ‚îÄ Code snippet ‚îÄ‚îÄ */
  .code-section {
    width: 100%;
    max-width: 720px;
    padding: 0 24px 80px;
  }

  .code-section h2 {
    font-size: 20px;
    font-weight: 700;
    color: #e5e7eb;
    margin-bottom: 16px;
    letter-spacing: -.3px;
  }

  pre {
    background: #161619;
    border: 1px solid rgba(255,255,255,.08);
    border-radius: 16px;
    padding: 24px;
    font-size: 13.5px;
    line-height: 1.8;
    overflow-x: auto;
    color: #cdd5e0;
    font-family: 'Fira Code', 'Cascadia Code', monospace;
    margin-bottom: 32px;
  }

  .kw  { color: #c792ea; }
  .fn  { color: #82aaff; }
  .str { color: #c3e88d; }
  .cmt { color: #546e7a; font-style: italic; }
  .tag { color: #89ddff; }
  .att { color: #ffcb6b; }

  /* ‚îÄ‚îÄ Features grid ‚îÄ‚îÄ */
  .features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    width: 100%;
    max-width: 720px;
    padding: 0 24px 80px;
  }

  .feat {
    background: #161619;
    border: 1px solid rgba(255,255,255,.07);
    border-radius: 14px;
    padding: 20px;
  }

  .feat-icon { font-size: 24px; margin-bottom: 10px; }
  .feat h3 { font-size: 14px; font-weight: 600; color: #e5e7eb; margin-bottom: 6px; }
  .feat p  { font-size: 13px; color: #6b7280; line-height: 1.5; }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     AUTH FORM STYLES (the package)
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  .raf-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.55);
    backdrop-filter: blur(6px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    animation: raf-fade-in .2s ease;
  }

  @keyframes raf-fade-in { from { opacity:0 } to { opacity:1 } }
  @keyframes raf-slide-up {
    from { opacity:0; transform:translateY(24px) scale(.97) }
    to   { opacity:1; transform:translateY(0) scale(1) }
  }
  @keyframes raf-spin { to { transform: rotate(360deg) } }

  .raf-card {
    background: #fff;
    border-radius: 20px;
    padding: 48px 44px;
    width: 100%;
    max-width: 420px;
    box-shadow: 0 4px 6px rgba(0,0,0,.04), 0 24px 60px rgba(0,0,0,.18), 0 0 0 1px rgba(0,0,0,.06);
    animation: raf-slide-up .3s cubic-bezier(.34,1.56,.64,1);
    font-family: 'Segoe UI', system-ui, sans-serif;
    position: relative;
    box-sizing: border-box;
    margin: 16px;
  }

  .raf-card * { box-sizing: border-box; }

  .raf-logo {
    width: 48px; height: 48px;
    border-radius: 14px;
    background: linear-gradient(135deg,#6366f1,#8b5cf6);
    display: flex; align-items: center; justify-content: center;
    margin-bottom: 20px;
    box-shadow: 0 4px 14px rgba(99,102,241,.4);
  }

  .raf-logo svg { width:26px; height:26px; stroke:white; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }

  .raf-title { font-size:24px; font-weight:700; color:#111827; margin:0 0 6px; letter-spacing:-.4px; }

  .raf-subtitle { font-size:14px; color:#6b7280; margin:0 0 28px; }
  .raf-subtitle span { color:#6366f1; font-weight:600; cursor:pointer; }
  .raf-subtitle span:hover { text-decoration:underline; }

  .raf-form { display:flex; flex-direction:column; gap:16px; }
  .raf-field { display:flex; flex-direction:column; gap:6px; }
  .raf-label { font-size:13px; font-weight:600; color:#374151; }

  .raf-input-wrap { position:relative; display:flex; align-items:center; }

  .raf-input-icon {
    position:absolute; left:13px;
    width:18px; height:18px;
    color:#9ca3af; pointer-events:none;
    display:flex; align-items:center; justify-content:center;
  }

  .raf-input-icon svg { width:18px; height:18px; stroke:currentColor; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }

  .raf-input {
    width:100%; padding:11px 14px 11px 40px;
    border:1.5px solid #e5e7eb; border-radius:10px;
    font-size:14px; color:#111827; background:#f9fafb;
    transition:border-color .15s, box-shadow .15s, background .15s;
    outline:none; font-family:inherit;
  }

  .raf-input::placeholder { color:#c4c9d4; }
  .raf-input:focus { border-color:#6366f1; background:#fff; box-shadow:0 0 0 3px rgba(99,102,241,.12); }
  .raf-input.err { border-color:#ef4444; background:#fff5f5; }
  .raf-input.err:focus { box-shadow:0 0 0 3px rgba(239,68,68,.12); }

  .raf-eye-btn {
    position:absolute; right:12px;
    background:none; border:none; cursor:pointer; padding:4px;
    color:#9ca3af; display:flex; align-items:center;
    transition:color .15s;
  }

  .raf-eye-btn:hover { color:#6366f1; }
  .raf-eye-btn svg { width:18px; height:18px; stroke:currentColor; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }

  .raf-field-row { display:grid; grid-template-columns:1fr 1fr; gap:12px; }

  .raf-field-error { font-size:12px; color:#ef4444; display:flex; align-items:center; gap:4px; }
  .raf-field-error svg { width:13px; height:13px; stroke:currentColor; fill:none; stroke-width:2; flex-shrink:0; }

  .raf-forgot { display:flex; justify-content:flex-end; margin-top:-8px; }
  .raf-forgot-btn {
    font-size:13px; color:#6366f1; font-weight:500; background:none; border:none;
    cursor:pointer; font-family:inherit; padding:0;
  }
  .raf-forgot-btn:hover { text-decoration:underline; }

  .raf-submit-btn {
    width:100%; padding:12px;
    background:linear-gradient(135deg,#6366f1,#8b5cf6);
    color:white; border:none; border-radius:10px;
    font-size:15px; font-weight:600; cursor:pointer; margin-top:4px;
    transition:opacity .15s, transform .15s, box-shadow .15s;
    box-shadow:0 4px 14px rgba(99,102,241,.35);
    font-family:inherit; letter-spacing:.01em;
    display:flex; align-items:center; justify-content:center; gap:8px;
  }

  .raf-submit-btn:hover { opacity:.92; transform:translateY(-1px); box-shadow:0 6px 20px rgba(99,102,241,.45); }
  .raf-submit-btn:active { transform:translateY(0); }
  .raf-submit-btn:disabled { opacity:.65; cursor:not-allowed; transform:none; }

  .raf-spinner {
    width:18px; height:18px;
    border:2.5px solid rgba(255,255,255,.35);
    border-top-color:white; border-radius:50%;
    animation:raf-spin .7s linear infinite;
  }

  .raf-strength-bar { display:flex; gap:4px; margin-top:6px; }
  .raf-strength-seg { height:4px; flex:1; border-radius:99px; background:#e5e7eb; transition:background .3s; }
  .raf-strength-seg.weak   { background:#ef4444; }
  .raf-strength-seg.fair   { background:#f59e0b; }
  .raf-strength-seg.good   { background:#3b82f6; }
  .raf-strength-seg.strong { background:#10b981; }
  .raf-strength-label { font-size:11px; margin-top:4px; font-weight:500; }
  .raf-strength-label.weak   { color:#ef4444; }
  .raf-strength-label.fair   { color:#f59e0b; }
  .raf-strength-label.good   { color:#3b82f6; }
  .raf-strength-label.strong { color:#10b981; }

  .raf-global-error {
    background:#fef2f2; border:1px solid #fecaca; border-radius:10px;
    padding:12px 14px; font-size:13px; color:#dc2626;
    display:flex; align-items:flex-start; gap:8px; margin-bottom:16px;
  }

  .raf-global-error svg { flex-shrink:0; margin-top:1px; width:16px; height:16px; stroke:currentColor; fill:none; stroke-width:2; }

  .raf-success {
    text-align:center; padding:20px 0;
    animation:raf-slide-up .3s ease;
  }

  .raf-success-icon {
    width:64px; height:64px;
    background:linear-gradient(135deg,#10b981,#059669);
    border-radius:50%; display:flex; align-items:center; justify-content:center;
    margin:0 auto 16px;
    box-shadow:0 4px 16px rgba(16,185,129,.35);
  }

  .raf-success-icon svg { width:32px; height:32px; stroke:white; fill:none; stroke-width:2.5; stroke-linecap:round; stroke-linejoin:round; }
  .raf-success h3 { font-size:20px; font-weight:700; color:#111827; margin:0 0 8px; }
  .raf-success p  { font-size:14px; color:#6b7280; margin:0; line-height:1.6; }

  .raf-close-btn {
    position:absolute; top:16px; right:16px;
    background:none; border:none; cursor:pointer; color:#9ca3af;
    padding:6px; border-radius:8px;
    display:flex; align-items:center; transition:background .15s, color .15s;
  }

  .raf-close-btn:hover { background:#f3f4f6; color:#374151; }
  .raf-close-btn svg { width:18px; height:18px; stroke:currentColor; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }

  .raf-checkbox-wrap { display:flex; align-items:flex-start; gap:10px; cursor:pointer; }
  .raf-checkbox-wrap input { width:16px; height:16px; margin-top:1px; accent-color:#6366f1; cursor:pointer; flex-shrink:0; }
  .raf-checkbox-label { font-size:13px; color:#4b5563; line-height:1.5; }
  .raf-checkbox-label span { color:#6366f1; cursor:pointer; }

  @media (max-width:480px) {
    .raf-card { padding:36px 24px; border-radius:16px; }
    .raf-field-row { grid-template-columns:1fr; }
  }
</style>
</head>
<body>

<div class="page-header">
  <div class="badge">npm package</div>
  <h1>react-auth-forms</h1>
  <p class="tagline">Drop-in Login and Sign-Up form components for React. Validation, password strength, and success states ‚Äî all out of the box.</p>

  <div class="demo-buttons">
    <button class="demo-btn demo-btn-primary" onclick="openForm('login')">üîë Open Login Form</button>
    <button class="demo-btn demo-btn-secondary" onclick="openForm('signup')">‚ú® Open Sign-Up Form</button>
    <button class="demo-btn demo-btn-tertiary" onclick="openForm('combined')">‚ö° Combined (AuthForms)</button>
  </div>
</div>

<div class="code-section">
  <h2>Installation</h2>
  <pre><span class="cmt"># npm</span>
npm install react-auth-forms

<span class="cmt"># yarn</span>
yarn add react-auth-forms</pre>

  <h2>Usage</h2>
  <pre><span class="kw">import</span> { AuthForms } <span class="kw">from</span> <span class="str">'react-auth-forms'</span>;

<span class="kw">export default function</span> <span class="fn">App</span>() {
  <span class="kw">const</span> [showAuth, setShowAuth] = useState(<span class="kw">false</span>);

  <span class="kw">return</span> (
    <span class="tag">&lt;&gt;</span>
      <span class="tag">&lt;button</span> <span class="att">onClick</span>={() => setShowAuth(<span class="kw">true</span>)}<span class="tag">&gt;</span>Login<span class="tag">&lt;/button&gt;</span>

      {showAuth <span class="kw">&amp;&amp;</span> (
        <span class="tag">&lt;AuthForms</span>
          <span class="att">onLogin</span>={async ({ email, password }) => {
            await myApi.login(email, password);
          }}
          <span class="att">onSignUp</span>={async ({ firstName, email, password }) => {
            await myApi.register({ firstName, email, password });
          }}
          <span class="att">onClose</span>={() => setShowAuth(<span class="kw">false</span>)}
        <span class="tag">/&gt;</span>
      )}
    <span class="tag">&lt;/&gt;</span>
  );
}</pre>
</div>

<div class="features">
  <div class="feat"><div class="feat-icon">üîí</div><h3>Built-in Validation</h3><p>Email format, required fields, password length ‚Äî all handled automatically.</p></div>
  <div class="feat"><div class="feat-icon">üí™</div><h3>Password Strength</h3><p>Live strength indicator with colour-coded bar as the user types.</p></div>
  <div class="feat"><div class="feat-icon">‚úÖ</div><h3>Success State</h3><p>Animated success screen shown automatically after a successful submit.</p></div>
  <div class="feat"><div class="feat-icon">üé®</div><h3>Customisable</h3><p>Control title, button text, visible fields, overlay, logo, and more via props.</p></div>
  <div class="feat"><div class="feat-icon">üì¶</div><h3>Zero Extra Deps</h3><p>Only peer dependency is React itself. Styles are injected automatically.</p></div>
  <div class="feat"><div class="feat-icon">üü¶</div><h3>TypeScript</h3><p>Full type declarations included out of the box.</p></div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ Modal container ‚îÄ‚îÄ‚îÄ -->
<div id="modal-root"></div>

<script>
/* ‚îÄ‚îÄ State ‚îÄ‚îÄ */
let currentView = 'login'; // 'login' | 'signup'

function openForm(type) {
  if (type === 'combined') { currentView = 'login'; renderCombined(); }
  else { renderSingle(type); }
}

/* ‚îÄ‚îÄ Icons ‚îÄ‚îÄ */
const mailIcon = `<svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>`;
const lockIcon = `<svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>`;
const userIcon = `<svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>`;
const closeIcon = `<svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>`;
const alertIcon = `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>`;
const checkIcon = `<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>`;
const logoSvg = `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>`;

function eyeIcon(visible) {
  return visible
    ? `<svg viewBox="0 0 24 24"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" y1="2" x2="22" y2="22"/></svg>`
    : `<svg viewBox="0 0 24 24"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>`;
}

/* ‚îÄ‚îÄ Strength calc ‚îÄ‚îÄ */
function getStrength(pw) {
  if (!pw) return { score:0, label:'', level:'' };
  let s = 0;
  if (pw.length >= 8)  s++;
  if (pw.length >= 12) s++;
  if (/[A-Z]/.test(pw)) s++;
  if (/[0-9]/.test(pw)) s++;
  if (/[^A-Za-z0-9]/.test(pw)) s++;
  if (s <= 1) return { score:1, label:'Weak',   level:'weak' };
  if (s <= 2) return { score:2, label:'Fair',   level:'fair' };
  if (s <= 3) return { score:3, label:'Good',   level:'good' };
  return          { score:4, label:'Strong', level:'strong' };
}

/* ‚îÄ‚îÄ Login form HTML ‚îÄ‚îÄ */
function loginHTML(opts = {}) {
  return `
  <div class="raf-logo">${logoSvg}</div>
  <h2 class="raf-title">${opts.title || 'Welcome back'}</h2>
  <p class="raf-subtitle">
    Don't have an account? <span onclick="window.__switchView && window.__switchView('signup')">Sign up</span>
  </p>
  <div id="global-err" style="display:none" class="raf-global-error">${alertIcon}<span id="global-err-msg"></span></div>
  <form class="raf-form" id="login-form" onsubmit="return false">
    <div class="raf-field">
      <label class="raf-label">Email address</label>
      <div class="raf-input-wrap">
        <span class="raf-input-icon">${mailIcon}</span>
        <input class="raf-input" type="email" id="login-email" placeholder="you@example.com" autocomplete="email"/>
      </div>
      <span class="raf-field-error" id="err-email" style="display:none">${alertIcon}<span></span></span>
    </div>
    <div class="raf-field">
      <label class="raf-label">Password</label>
      <div class="raf-input-wrap">
        <span class="raf-input-icon">${lockIcon}</span>
        <input class="raf-input" type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password"/>
        <button type="button" class="raf-eye-btn" onclick="toggleEye('login-password','login-eye')" id="login-eye">${eyeIcon(false)}</button>
      </div>
      <span class="raf-field-error" id="err-password" style="display:none">${alertIcon}<span></span></span>
    </div>
    <div class="raf-forgot">
      <button type="button" class="raf-forgot-btn" onclick="alert('Forgot password flow would go here!')">Forgot password?</button>
    </div>
    <button type="button" class="raf-submit-btn" id="login-submit" onclick="submitLogin()">
      ${userIcon} ${opts.buttonText || 'Sign in'}
    </button>
  </form>`;
}

/* ‚îÄ‚îÄ Signup form HTML ‚îÄ‚îÄ */
function signupHTML(opts = {}) {
  return `
  <div class="raf-logo">${logoSvg}</div>
  <h2 class="raf-title">${opts.title || 'Create an account'}</h2>
  <p class="raf-subtitle">
    Already have an account? <span onclick="window.__switchView && window.__switchView('login')">Sign in</span>
  </p>
  <div id="global-err" style="display:none" class="raf-global-error">${alertIcon}<span id="global-err-msg"></span></div>
  <form class="raf-form" id="signup-form" onsubmit="return false">
    <div class="raf-field-row">
      <div class="raf-field">
        <label class="raf-label">First name</label>
        <div class="raf-input-wrap">
          <span class="raf-input-icon">${userIcon}</span>
          <input class="raf-input" type="text" id="su-firstname" placeholder="John" autocomplete="given-name"/>
        </div>
        <span class="raf-field-error" id="err-firstname" style="display:none">${alertIcon}<span></span></span>
      </div>
      <div class="raf-field">
        <label class="raf-label">Last name</label>
        <div class="raf-input-wrap">
          <span class="raf-input-icon">${userIcon}</span>
          <input class="raf-input" type="text" id="su-lastname" placeholder="Doe" autocomplete="family-name"/>
        </div>
        <span class="raf-field-error" id="err-lastname" style="display:none">${alertIcon}<span></span></span>
      </div>
    </div>
    <div class="raf-field">
      <label class="raf-label">Email address</label>
      <div class="raf-input-wrap">
        <span class="raf-input-icon">${mailIcon}</span>
        <input class="raf-input" type="email" id="su-email" placeholder="you@example.com" autocomplete="email"/>
      </div>
      <span class="raf-field-error" id="err-su-email" style="display:none">${alertIcon}<span></span></span>
    </div>
    <div class="raf-field">
      <label class="raf-label">Password</label>
      <div class="raf-input-wrap">
        <span class="raf-input-icon">${lockIcon}</span>
        <input class="raf-input" type="password" id="su-password" placeholder="Min. 8 characters"
          autocomplete="new-password" oninput="updateStrength()"/>
        <button type="button" class="raf-eye-btn" onclick="toggleEye('su-password','su-eye')" id="su-eye">${eyeIcon(false)}</button>
      </div>
      <span class="raf-field-error" id="err-su-password" style="display:none">${alertIcon}<span></span></span>
      <div id="strength-bar" class="raf-strength-bar" style="display:none">
        <div class="raf-strength-seg" id="seg1"></div>
        <div class="raf-strength-seg" id="seg2"></div>
        <div class="raf-strength-seg" id="seg3"></div>
        <div class="raf-strength-seg" id="seg4"></div>
      </div>
      <span class="raf-strength-label" id="strength-label"></span>
    </div>
    <div class="raf-field">
      <label class="raf-label">Confirm password</label>
      <div class="raf-input-wrap">
        <span class="raf-input-icon">${lockIcon}</span>
        <input class="raf-input" type="password" id="su-confirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password"/>
        <button type="button" class="raf-eye-btn" onclick="toggleEye('su-confirm','su-eye2')" id="su-eye2">${eyeIcon(false)}</button>
      </div>
      <span class="raf-field-error" id="err-su-confirm" style="display:none">${alertIcon}<span></span></span>
    </div>
    <div class="raf-field">
      <label class="raf-checkbox-wrap">
        <input type="checkbox" id="su-terms"/>
        <span class="raf-checkbox-label">I agree to the <span>Terms of Service</span> and <span>Privacy Policy</span></span>
      </label>
      <span class="raf-field-error" id="err-su-terms" style="display:none">${alertIcon}<span></span></span>
    </div>
    <button type="button" class="raf-submit-btn" id="signup-submit" onclick="submitSignup()">
      ${opts.buttonText || 'Create account'}
    </button>
  </form>`;
}

function successHTML(heading, body) {
  return `<div class="raf-success">
    <div class="raf-success-icon">${checkIcon}</div>
    <h3>${heading}</h3>
    <p>${body}</p>
  </div>`;
}

/* ‚îÄ‚îÄ Helpers ‚îÄ‚îÄ */
function fieldErr(id, msg) {
  const el = document.getElementById(id);
  if (!el) return;
  el.style.display = msg ? 'flex' : 'none';
  const span = el.querySelector('span');
  if (span) span.textContent = msg;
  const input = document.getElementById(id.replace('err-', '').replace('err-su-', 'su-'));
  if (input) { msg ? input.classList.add('err') : input.classList.remove('err'); }
}

function toggleEye(inputId, btnId) {
  const input = document.getElementById(inputId);
  const btn   = document.getElementById(btnId);
  if (!input || !btn) return;
  const isText = input.type === 'text';
  input.type = isText ? 'password' : 'text';
  btn.innerHTML = eyeIcon(!isText);
}

function setLoading(btnId, loading, text) {
  const btn = document.getElementById(btnId);
  if (!btn) return;
  btn.disabled = loading;
  btn.innerHTML = loading
    ? '<span class="raf-spinner"></span> Loading...'
    : text;
}

function updateStrength() {
  const pw = document.getElementById('su-password')?.value || '';
  const st = getStrength(pw);
  const bar = document.getElementById('strength-bar');
  const lbl = document.getElementById('strength-label');
  if (!bar || !lbl) return;
  bar.style.display = pw ? 'flex' : 'none';
  lbl.textContent = pw ? st.label : '';
  lbl.className = `raf-strength-label ${st.level}`;
  [1,2,3,4].forEach(i => {
    const seg = document.getElementById('seg'+i);
    if (seg) seg.className = `raf-strength-seg ${i <= st.score ? st.level : ''}`;
  });
}

/* ‚îÄ‚îÄ Submit handlers ‚îÄ‚îÄ */
async function submitLogin() {
  let ok = true;
  const email    = document.getElementById('login-email')?.value || '';
  const password = document.getElementById('login-password')?.value || '';

  fieldErr('err-email', '');
  fieldErr('err-password', '');

  if (!email)                      { fieldErr('err-email', 'Email is required'); ok = false; }
  else if (!/\S+@\S+\.\S+/.test(email)) { fieldErr('err-email', 'Please enter a valid email'); ok = false; }
  if (!password)                   { fieldErr('err-password', 'Password is required'); ok = false; }
  else if (password.length < 6)   { fieldErr('err-password', 'Password must be at least 6 characters'); ok = false; }

  if (!ok) return;

  setLoading('login-submit', true);
  await new Promise(r => setTimeout(r, 1200)); // simulate API
  setLoading('login-submit', false);

  document.getElementById('form-body').innerHTML = successHTML('Signed in!', 'You have been successfully signed in. Redirecting...');
}

async function submitSignup() {
  let ok = true;
  const firstName = document.getElementById('su-firstname')?.value || '';
  const lastName  = document.getElementById('su-lastname')?.value || '';
  const email     = document.getElementById('su-email')?.value || '';
  const password  = document.getElementById('su-password')?.value || '';
  const confirm   = document.getElementById('su-confirm')?.value || '';
  const agreed    = document.getElementById('su-terms')?.checked;

  ['err-firstname','err-lastname','err-su-email','err-su-password','err-su-confirm','err-su-terms']
    .forEach(id => fieldErr(id, ''));

  if (!firstName.trim())             { fieldErr('err-firstname', 'First name is required'); ok = false; }
  if (!lastName.trim())              { fieldErr('err-lastname',  'Last name is required');  ok = false; }
  if (!email)                        { fieldErr('err-su-email',  'Email is required');      ok = false; }
  else if (!/\S+@\S+\.\S+/.test(email)) { fieldErr('err-su-email', 'Please enter a valid email'); ok = false; }
  if (!password)                     { fieldErr('err-su-password', 'Password is required'); ok = false; }
  else if (password.length < 8)     { fieldErr('err-su-password', 'Password must be at least 8 characters'); ok = false; }
  if (password && password !== confirm) { fieldErr('err-su-confirm', 'Passwords do not match'); ok = false; }
  if (!agreed)                       { fieldErr('err-su-terms', 'You must agree to the terms'); ok = false; }

  if (!ok) return;

  setLoading('signup-submit', true);
  await new Promise(r => setTimeout(r, 1400));
  setLoading('signup-submit', false);

  document.getElementById('form-body').innerHTML =
    successHTML('Account created!', `Welcome aboard, ${firstName}! Your account has been successfully created.`);
}

/* ‚îÄ‚îÄ Render helpers ‚îÄ‚îÄ */
function closeModal() {
  document.getElementById('modal-root').innerHTML = '';
}

function renderSingle(type) {
  window.__switchView = null;
  const root = document.getElementById('modal-root');
  root.innerHTML = `
    <div class="raf-overlay" id="overlay" onclick="handleOverlayClick(event)">
      <div class="raf-card">
        <button class="raf-close-btn" onclick="closeModal()">${closeIcon}</button>
        <div id="form-body">
          ${type === 'login' ? loginHTML() : signupHTML()}
        </div>
      </div>
    </div>`;
}

function renderCombined() {
  window.__switchView = function(view) {
    currentView = view;
    document.getElementById('form-body').innerHTML =
      view === 'login' ? loginHTML() : signupHTML();
  };
  const root = document.getElementById('modal-root');
  root.innerHTML = `
    <div class="raf-overlay" id="overlay" onclick="handleOverlayClick(event)">
      <div class="raf-card">
        <button class="raf-close-btn" onclick="closeModal()">${closeIcon}</button>
        <div id="form-body">
          ${currentView === 'login' ? loginHTML() : signupHTML()}
        </div>
      </div>
    </div>`;
}

function handleOverlayClick(e) {
  if (e.target.id === 'overlay') closeModal();
}
</script>
</body>
</html>
